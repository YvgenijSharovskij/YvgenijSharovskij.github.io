!function(a,b,c){"use strict";function d(){var a=c.createElement("script");a.src="//browser-update.org/update.min.js",c.body.appendChild(a)}var e={ON_LOAD_WIDTH:0,ON_LOAD_HEIGHT:0,SESSION:0};a(b).on("load",function(){e.ON_LOAD_WIDTH=a(b).width(),e.ON_LOAD_HEIGHT=a(b).height(),a(".fixed-bg").css("height",e.ON_LOAD_HEIGHT+"px")}),a(c).ready(function(a){function d(c){var d=c.substr(c.indexOf("#")+1),e=a("#"+d);m.animate({scrollTop:e.offset().top},600,function(){b.location.hash=d})}function f(c,d,e,f){var g=e.map(function(){var b=a(a(this).attr("href"));if(b.length)return b});a(b).on("scroll",function(){var b=a(this).scrollTop()+p;c=g.map(function(){if(a(this).offset().top<b)return this}),c=c[c.length-1],d=c&&c.length?c[0].id:"",e.parent().removeClass(f).end().filter("[href='#"+d+"']").parent().addClass(f)})}function g(){if(Modernizr.mq("screen and (min-width: 40rem)")){var a=0,b=0;f(a,b,o,"active")}else if(Modernizr.mq("screen and (max-width: 40rem)")){var c=0,d=0;f(c,d,y,"active")}}function h(){var c=a(b).scrollTop();i(c),A=c,z=!1}function i(a){A-a>B?n.removeClass("translateHeader"):a-A>B&&a>C&&n.addClass("translateHeader")}function j(){var c=a(b).scrollTop()+p,d=c+e.ON_LOAD_HEIGHT,f=10;a.each(t,function(){var b=a(this),e=b.outerHeight(),g=b.offset().top,h=g+e;h-f>=c&&g+f<=d?b.addClass("in-view"):b.removeClass("in-view")})}function k(){v.toggleClass("toggle-icon"),x.addClass("is-close"),x.removeClass("is-open").removeClass("is-close")}var l=a("body"),m=a("html, body"),n=a(".scroll-hide-header"),o=a(".secondary-nav a"),p=(a(".secondary-nav"),n.outerHeight()),q=a(".down-arrow"),r=a(".about"),s=a(".about-popup"),t=a(".onScroll-animate"),u=a(".fixed-bg"),v=a(".menu-toggle"),w=a(".closeMobile"),x=a(".page-container"),y=a(".off-canvas a"),z=!1,A=0,B=10,C=150;o.on("click",function(b){b.preventDefault(),d(a.attr(this,"href"))}),q.on("click",function(b){b.preventDefault(),d(a.attr(this,"href"))}),a(b).on("resize",function(){e.ON_LOAD_WIDTH!=a(b).width()?(cancelAnimationFrame(e.SESSION),e.SESSION=requestAnimationFrame(g),e.ON_LOAD_WIDTH=a(b).width()):e.ON_LOAD_HEIGHT!=a(b).height()&&(p=n.outerHeight(),e.ON_LOAD_HEIGHT=a(b).height(),u.css("height",e.ON_LOAD_HEIGHT+"px"))}),requestAnimationFrame(g),a(b).on("scroll",function(){z||(z=!0,requestAnimationFrame(h))}),requestAnimationFrame(h),a(b).on("scroll resize",j),a(b).trigger("scroll"),v.on("click",function(){x.toggleClass("is-open"),v.toggleClass("toggle-icon")}),y.on("click",function(b){b.preventDefault(),d(a.attr(this,"href")),k()}),w.on("click",function(){k()}),r.on("click",function(){console.log("$about.on(click"),s.addClass("is-visible"),l.addClass("no-scroll")}),s.on("click",".close",function(a){console.log("$aboutPopup.on(click, .close"),a.preventDefault(),s.removeClass("is-visible"),l.removeClass("no-scroll")}),a(c).keyup(function(a){"27"==a.which&&s.hasClass("is-visible")&&(s.removeClass("is-visible"),l.removeClass("no-scroll"))})});try{c.addEventListener("DOMContentLoaded",d,!1)}catch(a){b.attachEvent("onload",d)}}(window.jQuery,window,document);