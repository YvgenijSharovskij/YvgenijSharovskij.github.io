"use strict";!function(a,b,c){function d(){var a=c.createElement("script");a.src="//browser-update.org/update.min.js",c.body.appendChild(a)}var e={ON_LOAD_WIDTH:0,ON_LOAD_HEIGHT:0,SESSION:0};a(b).on("load",function(){e.ON_LOAD_WIDTH=a(b).width(),e.ON_LOAD_HEIGHT=a(b).height()}),a(c).ready(function(a){function d(c){var d=c.substr(c.indexOf("#")+1),e=a("#"+d);m.animate({scrollTop:e.offset().top},600,function(){b.location.hash=d})}function f(c,d,e,f){var g=e.map(function(){var b=a(a(this).attr("href"));if(b.length)return b});a(b).on("scroll",function(){var b=a(this).scrollTop()+p;c=g.map(function(){if(a(this).offset().top<b)return this}),c=c[c.length-1],d=c&&c.length?c[0].id:"",e.parent().removeClass(f).end().filter("[href='#"+d+"']").parent().addClass(f)})}function g(){if(Modernizr.mq("screen and (min-width: 40rem)")){var a=0,b=0;f(a,b,o,"active")}else if(Modernizr.mq("screen and (max-width: 40rem)")){var c=0,d=0;f(c,d,x,"active")}}function h(){var c=a(b).scrollTop();i(c),z=c,y=!1}function i(a){z-a>A?n.removeClass("translateHeader"):a-z>A&&a>B&&n.addClass("translateHeader")}function j(){var c=a(b).scrollTop()+p,d=c+e.ON_LOAD_HEIGHT,f=10;a.each(t,function(){var b=a(this),e=b.outerHeight(),g=b.offset().top,h=g+e;h-f>=c&&g+f<=d?b.addClass("in-view"):b.removeClass("in-view")})}function k(){u.toggleClass("toggle-icon"),w.addClass("is-close"),w.removeClass("is-open").removeClass("is-close")}var l=a("body"),m=a("html, body"),n=a(".scroll-hide-header"),o=a(".secondary-nav a"),p=(a(".secondary-nav"),n.outerHeight()),q=a(".down-arrow"),r=a(".about"),s=a(".about-popup"),t=a(".onScroll-animate"),u=a(".menu-toggle"),v=a(".closeMobile"),w=a(".page-container"),x=a(".off-canvas a"),y=!1,z=0,A=10,B=150;o.on("click",function(b){b.preventDefault(),d(a.attr(this,"href"))}),q.on("click",function(b){b.preventDefault(),d(a.attr(this,"href"))}),a(b).on("resize",function(){e.ON_LOAD_WIDTH!=a(b).width()?(cancelAnimationFrame(e.SESSION),e.SESSION=requestAnimationFrame(g),e.ON_LOAD_WIDTH=a(b).width()):e.ON_LOAD_HEIGHT!=a(b).height()&&(p=n.outerHeight(),e.ON_LOAD_HEIGHT=a(b).height())}),requestAnimationFrame(g),a(b).on("scroll",function(){y||(y=!0,requestAnimationFrame(h))}),requestAnimationFrame(h),a(b).on("scroll resize",j),a(b).trigger("scroll"),u.bind("click",function(){console.log("$menuToggle.bind(click"),w.toggleClass("is-open"),u.toggleClass("toggle-icon")}),x.bind("click",function(b){console.log("$offcanvasLinks.bind(click"),b.preventDefault(),d(a.attr(this,"href")),k()}),v.bind("click",function(){console.log("$menuClose.bind(click"),k()}),r.on("click",function(a){console.log("$about.on(click"),s.addClass("is-visible"),l.addClass("no-scroll")}),s.on("click",".close",function(a){console.log("$aboutPopup.on(click, .close"),a.preventDefault(),s.removeClass("is-visible"),l.removeClass("no-scroll")}),a(c).keyup(function(a){"27"==a.which&&s.hasClass("is-visible")&&(console.log("KEY = ESC : event.which==27"),s.removeClass("is-visible"),l.removeClass("no-scroll"))})});try{c.addEventListener("DOMContentLoaded",d,!1)}catch(a){b.attachEvent("onload",d)}}(window.jQuery,window,document);