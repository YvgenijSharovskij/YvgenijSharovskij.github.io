!function(a,b,c){"use strict";function d(){var a=c.createElement("script");a.src="//browser-update.org/update.min.js",c.body.appendChild(a)}a(c).ready(function(a){function d(b,c){var d=a(".project-empty").find("img");i.hasClass("add-info")?f(d,b,c,"close",o):e(d,b,c)}function e(c,d,e){var f=c.parent(".project-item"),g=c.offset().top-a(b).scrollTop(),h=c.offset().left;c.width();k.removeClass("overlay-layer"),i.velocity("stop").removeClass("add-info open-animate is-visible").css({top:g+"px",left:h+"px",width:"0px"}),f.removeClass("project-empty")}function f(c,d,e,f,g){var j=c.parent(".project-item"),m=(a(b).width(),a(b).height()),o=c.offset().top-a(b).scrollTop(),p=c.offset().left,q=c.width(),r=c.height(),s=d/2,t=d*r/q,u=(m-t)/2;Modernizr.mq("screen and (min-width: 40rem)")||Modernizr.mq("screen and (max-width: 40rem)")&&h(),"open"==f?(j.addClass("project-empty"),a(""+g).css({opacity:1,top:o+"px",left:p+"px",width:q+"px"}).velocity({top:u+"px",left:s+"px",width:d+"px"},900,[400,20],function(){a(""+g).addClass("open-animate").velocity({left:l+"px",width:n+"px"},300,"ease-in",function(){a(""+g).addClass("add-info")})}).addClass("is-visible")):"close"==f&&(i.removeClass("add-info").velocity({top:u+"px",left:s+"px",width:d+"px"},300,"ease-out",function(){i.removeClass("open-animate").velocity({top:o+"px",left:p+"px",width:q/3+"px",opacity:0},300,"linear",function(){i.removeClass("is-visible"),j.removeClass("project-empty")})}),k.removeClass("overlay-layer"))}function g(){var c=a(b).scrollTop(),d=c+a(b).height();a.each(q,function(){var b=a(this),e=b.outerHeight(),f=b.offset().top;f+e-70>=c&&f+70<=d&&b.addClass("in-view")})}function h(){l=(a(b).width()-i.width())/2,m=(a(b).height()-i.height())/2,n=.8*a(b).width()<j?.8*a(b).width():j,i.css({top:m+"px",left:l+"px",width:n+"px"})}var i=a(".project-open"),j=a(".project-open").outerWidth(),k=a("body"),l=0,m=0,n=0,o=0,p=a(".projects-container a"),q=a(".onScroll-animate"),r=c.getElementById("project-open-container"),s=new Hammer(r);p.on("click",function(){var b=a(this).attr("href"),c=a(this).parent(".project-item").children("img");k.addClass("overlay-layer"),f(c,400,j,"open",b)}),k.on("click",function(b){(a(b.target).is(".close-x")||a(b.target).is("body.overlay-layer")||a(b.target).is(".project-empty"))&&d(400,j)}),a(c).keyup(function(a){i.hasClass("is-visible")&&"27"==a.which&&d(400,j)}),s.on("swipe",function(){i.hasClass("is-visible")&&d(400,j)}),a(b).on("scroll resize reload",g),a(b).trigger("scroll"),a(b).on("resize reload",function(){requestAnimationFrame(h)}),h()});try{c.addEventListener("DOMContentLoaded",d,!1)}catch(a){b.attachEvent("onload",d)}}(window.jQuery,window,document);