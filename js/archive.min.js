!function(a,b,c){"use strict";function d(){var a=c.createElement("script");a.src="//browser-update.org/update.min.js",c.body.appendChild(a)}a(c).ready(function(a){function d(b,c){var d=a(".project-empty").find("img");i.hasClass("add-info")?f(d,b,c,"close",p):e(d,b,c)}function e(c,d,e){var f=c.parent(".project-item"),g=c.offset().top-a(b).scrollTop(),h=c.offset().left;c.width();l.removeClass("overlay-layer"),i.velocity("stop").removeClass("add-info open-animate is-visible").css({top:g+"px",left:h+"px",width:"0px"}),f.removeClass("project-empty")}function f(c,d,e,f,g){var h=c.parent(".project-item"),j=c.offset().top-a(b).scrollTop(),k=c.offset().left,n=c.width(),p=c.height(),q=a(b).width(),r=a(b).height(),s=(q-d)/2,t=d*p/n,u=(r-t)/2,v=3;"open"==f?(h.addClass("project-empty"),a(""+g).css({opacity:1,top:j+"px",left:k+"px",width:n+"px"}).velocity({top:u+"px",left:s+"px",width:d+"px"},900,[400,20],function(){a(""+g).addClass("open-animate").velocity({left:m+"px",width:o+"px"},300,"ease-in",function(){a(""+g).addClass("add-info")})}).addClass("is-visible")):"close"==f&&(i.removeClass("add-info").velocity({top:u+"px",left:s+"px",width:d+"px"},300,"ease-out",function(){i.removeClass("open-animate").velocity({top:j+"px",left:k+"px",width:n/v+"px",opacity:0},300,"linear",function(){i.removeClass("is-visible"),h.removeClass("project-empty")})}),l.removeClass("overlay-layer"))}function g(){var c=a(b).scrollTop(),d=c+a(b).height(),e=70;a.each(r,function(){var b=a(this),f=b.outerHeight(),g=b.offset().top,h=g+f;h-e>=c&&g+e<=d&&b.addClass("in-view")})}function h(){m=(a(b).width()-i.width())/2,n=(a(b).height()-i.height())/2,o=.8*a(b).width()<j?.8*a(b).width():j,i.css({top:n+"px",left:m+"px",width:o+"px"})}var i=a(".project-open"),j=a(".project-open").outerWidth(),k=400,l=a("body"),m=0,n=0,o=0,p=0,q=a(".projects-container a"),r=a(".onScroll-animate"),s=c.getElementById("project-open-container"),t=new Hammer(s);q.on("click",function(){var b=a(this).attr("href"),c=a(this).parent(".project-item").children("img");l.addClass("overlay-layer"),f(c,k,j,"open",b)}),l.on("click",function(b){(a(b.target).is(".close-x")||a(b.target).is("body.overlay-layer")||a(b.target).is(".project-empty"))&&d(k,j)}),a(c).keyup(function(a){i.hasClass("is-visible")&&"27"==a.which&&d(k,j)}),t.on("swipe",function(){i.hasClass("is-visible")&&d(k,j)}),a(b).on("scroll resize reload",g),a(b).trigger("scroll"),a(b).on("resize reload",function(){requestAnimationFrame(h)}),h()});try{c.addEventListener("DOMContentLoaded",d,!1)}catch(a){b.attachEvent("onload",d)}}(window.jQuery,window,document);